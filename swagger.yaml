openapi: 3.0.3
info:
  title: 用户信息API
  description: 获取用户信息的接口文档
  version: 1.0.0
servers:
  - url: http://localhost:8000/api
    description: 开发服务器
paths:
  /auth:
    post:
      summary: 用户认证
      description: 通过用户名密码获取访问令牌
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: 认证成功，返回令牌
          headers:
            X-Auth-Token:
              required: true
              schema:
                type: string
                description: 访问令牌
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: 成功消息
        '400':
          description: 无效的请求参数
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: 认证失败，用户名或密码错误
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /users/{userId}:
    get:
      summary: 获取用户信息
      description: 根据用户ID获取用户详细信息
      parameters:
        - name: userId
          in: path
          required: true
          description: 用户ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 成功获取用户信息
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '404':
          description: 用户不存在
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: 删除用户
      description: 根据用户ID删除指定用户
      parameters:
        - name: userId
          in: path
          required: true
          description: 用户ID
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: 用户删除成功，无返回内容
        '404':
          description: 用户不存在
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '400':
          description: 无效的用户ID格式
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
components:
  schemas:
    LoginRequest:
      type: object
      properties:
        username:
          type: string
          description: 用户名
        password:
          type: string
          description: 密码
      required:
        - username
        - password
    User:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: 用户唯一标识
        username:
          type: string
          description: 用户名
        email:
          type: string
          format: email
          description: 用户邮箱
        created_at:
          type: string
          format: date-time
          description: 用户创建时间
      required:
        - id
        - username
        - email
    Error:
      type: object
      properties:
        code:
          type: string
          description: 错误代码
        message:
          type: string
          description: 错误信息
      required:
        - code
        - message